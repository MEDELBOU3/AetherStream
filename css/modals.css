/* --- SEARCH OVERLAY --- */
.search-overlay {
  position: fixed; inset: 0; background: var(--nav-bg); z-index: 2000;
  backdrop-filter: blur(20px); display: flex; flex-direction: column;
  padding: 120px 5% 0; clip-path: inset(0 0 100% 0);
  transition: clip-path 0.6s var(--ease-out), background 0.4s ease;
}
.search-overlay.open { clip-path: inset(0 0 0 0); }
.search-input-wrap { position: relative; border-bottom: 2px solid var(--border); margin-bottom: 40px; }
.search-input { width: 100%; background: none; border: none; font-family: 'Playfair Display'; font-size: clamp(2rem, 4vw, 3.5rem); color: var(--text); padding: 20px 0; }
.search-input::placeholder { color: var(--text-muted); opacity: 0.5; }
.search-results { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 30px; overflow-y: auto; padding-bottom: 50px; }

/* --- VIDEO MODAL (TRAILER) --- */
.video-modal {
  position: fixed; inset: 0; z-index: 3000;
  display: flex; align-items: center; justify-content: center;
  pointer-events: none; visibility: hidden; transition: opacity 0.3s, visibility 0.3s; opacity: 0;
}
.video-modal.active { pointer-events: auto; visibility: visible; opacity: 1; }
.modal-bg { position: absolute; inset: 0; background: rgba(0, 0, 0, 0.85); backdrop-filter: blur(15px); opacity: 0; }
.video-wrapper { position: relative; width: 90vw; max-width: 1200px; aspect-ratio: 16/9; background: #000; border-radius: 16px; box-shadow: 0 50px 100px rgba(0, 0, 0, 0.8); overflow: hidden; opacity: 0; transform: scale(0.9); clip-path: inset(0 50% 0 50%); }
.video-frame-box { width: 100%; height: 100%; position: relative; z-index: 10; }
.video-frame-box iframe { width: 100%; height: 100%; border: none; }
.video-header { position: absolute; top: 0; left: 0; width: 100%; padding: 30px; background: linear-gradient(180deg, rgba(0, 0, 0, 0.9) 0%, transparent 100%); z-index: 20; display: flex; flex-direction: column; gap: 5px; opacity: 0; transform: translateY(-20px); pointer-events: none; }
.playing-badge { display: flex; align-items: center; gap: 8px; color: var(--accent); font-size: 10px; font-weight: 800; letter-spacing: 2px; }
#videoTitleLabel { margin: 0; font-family: 'Playfair Display'; font-size: 2rem; color: #fff; text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8); }
.close-video-btn { position: absolute; top: 30px; right: 30px; display: flex; align-items: center; gap: 15px; color: #fff; cursor: pointer; z-index: 30; opacity: 0; transform: translateX(20px); }
.close-icon-circle { width: 44px; height: 44px; border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; background: rgba(0, 0, 0, 0.3); backdrop-filter: blur(5px); transition: 0.3s; }
.close-video-btn:hover .close-icon-circle { background: var(--accent); border-color: var(--accent); transform: rotate(90deg); }
.video-loader { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; z-index: 5; background: #000; }

/* --- STREAM PLAYER MODAL --- */
.stream-modal { position: fixed; inset: 0; z-index: 5000; background: #000; display: flex; flex-direction: column; opacity: 0; visibility: hidden; pointer-events: none; transition: opacity 0.3s, visibility 0.3s; }
.stream-modal.active { opacity: 1; visibility: visible; pointer-events: auto; }
.stream-header { height: 60px; background: linear-gradient(180deg, rgba(0, 0, 0, 0.9) 0%, transparent 100%); display: flex; align-items: center; justify-content: space-between; padding: 0 20px; z-index: 30; opacity: 0; transition: opacity 0.3s ease; pointer-events: auto !important; }
.stream-title { font-weight: 700; color: #fff; font-size: 1.1rem; }
.stream-meta { font-size: 12px; color: var(--accent); background: rgba(229, 9, 20, 0.1); padding: 4px 8px; border-radius: 4px; margin-left: 10px; }
.stream-content { flex: 1; position: relative; background: #000; }
.stream-frame { width: 100%; height: 100%; border: none; position: absolute; top: 0; left: 0; }
.stream-controls-layer { position: absolute; inset: 0; z-index: 20; display: flex; flex-direction: column; justify-content: center; align-items: center; pointer-events: none !important; opacity: 0; transition: opacity 0.3s ease; }
.stream-modal:hover .stream-controls-layer, .stream-modal:hover .stream-header { opacity: 1; }
.nav-controls { position: absolute; bottom: 25%; left: 50%; transform: translateX(-50%); display: flex; gap: 40px; align-items: center; pointer-events: none; z-index: 20; }
.nav-btn { width: 50px; height: 50px; border-radius: 50%; background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); color: #fff; font-size: 20px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s var(--ease-out); transform: scale(0.9); pointer-events: auto !important; }
.nav-btn:hover { background: var(--accent); border-color: var(--accent); transform: scale(1.1); box-shadow: 0 0 20px rgba(0, 0, 0, 0.5); }
.nav-btn.disabled { opacity: 0.3; pointer-events: none; filter: grayscale(1); }
.refresh-btn { width: 50px; height: 50px; font-size: 16px; background: rgba(255, 255, 255, 0.1); }
.bottom-info { position: absolute; bottom: 40px; left: 0; width: 100%; text-align: center; pointer-events: none; }
.control-btn { width: 40px; height: 40px; border-radius: 50%; background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(10px); justify-content: center; align-items: center; display: inline-flex; border: 1px solid rgba(255, 255, 255, 0.2); color: #fff; pointer-events: auto !important; cursor: pointer; }
.control-btn:hover { background: var(--text); color: var(--bg); }
.stream-loader { position: absolute; inset: 0; background: #000; display: flex; align-items: center; justify-content: center; z-index: 5; color: var(--accent); }
.source-badge { font-size: 11px; color: #888; margin-right: 15px; text-transform: uppercase; letter-spacing: 1px; }

/* --- PROVIDER OVERLAY --- */
.provider-overlay { position: fixed; inset: 0; background: var(--nav-bg); backdrop-filter: blur(25px); z-index: 2000; padding: 0; display: none; overflow-y: auto; opacity: 0; transition: background 0.4s ease; }
.provider-overlay-header { position: sticky; top: 0; z-index: 10; padding: 30px 5%; background: var(--nav-bg); backdrop-filter: blur(10px); border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }

/* --- CLOSE BUTTON --- */
.close-view { position: fixed; top: 110px; right: 4%; width: 50px; height: 50px; border: 1px solid var(--border); background: var(--surface-glass); backdrop-filter: blur(10px); border-radius: 50%; display: flex; align-items: center; justify-content: center; z-index: 900; cursor: pointer; transition: 0.3s; opacity: 0; transform: translateY(20px); pointer-events: none; color: var(--text); }
.close-view.active { opacity: 1; transform: translateY(0); pointer-events: auto; }
.close-view:hover { background: var(--accent); border-color: var(--accent); transform: rotate(90deg); color: #fff; }